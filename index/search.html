<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>البحث - دليل قعطبة المهني</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
  <style>
    body {
      margin: 0;
      font-family: 'Segoe UI', sans-serif;
      background: linear-gradient(135deg, #d2afff, #e6ccff);
      transition: background 0.3s, color 0.3s;
    }

    .dark-mode {
      background: #1e1e2f;
      color: #fff;
    }

    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 1rem 2rem;
      background: linear-gradient(to right, #b58ded, #c3a7f5);
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
      position: sticky;
      top: 0;
      z-index: 1000;
      flex-wrap: wrap;
    }

    .nav-links {
      display: flex;
      gap: 1rem;
      flex-wrap: wrap;
    }

    .nav-links a {
      text-decoration: none;
      color: #fff;
      font-weight: bold;
      padding: 0.5rem 1rem;
      border-radius: 20px;
      background: rgba(255, 255, 255, 0.1);
      transition: all 0.3s ease;
    }

    .nav-links a:hover {
      background: #fff;
      color: #8e44ad;
      transform: scale(1.05);
    }

    .theme-btn, .lang-btn {
      background: #fff;
      border: none;
      padding: 0.4rem 0.8rem;
      border-radius: 20px;
      cursor: pointer;
      font-weight: bold;
      color: #8e44ad;
      margin-left: 0.5rem;
      transition: background 0.3s;
    }

    .theme-btn:hover, .lang-btn:hover {
      background: #f0e0ff;
    }

    .language-switch {
      display: flex;
      align-items: center;
      margin-top: 0.5rem;
      gap: 0.5rem;
      flex-wrap: wrap;
    }

    main {
      max-width: 900px;
      margin: 2rem auto;
      padding: 0 1rem;
    }

    h1 {
      text-align: center;
      margin-bottom: 2rem;
      font-size: 2.5rem;
    }

    .search-bar {
      display: flex;
      gap: 0.5rem;
      flex-wrap: wrap;
      justify-content: center;
      margin-bottom: 1rem;
    }

    .search-bar input[type="text"], 
    .search-bar select {
      padding: 0.5rem 1rem;
      border-radius: 30px;
      border: 1px solid #aaa;
      font-size: 1rem;
      flex: 1 1 200px;
      max-width: 300px;
      outline: none;
      transition: border-color 0.3s;
    }

    .search-bar input[type="text"]:focus, 
    .search-bar select:focus {
      border-color: #8e44ad;
      box-shadow: 0 0 8px #b08de6;
    }

    .search-bar button {
      background: #8e44ad;
      color: white;
      border: none;
      border-radius: 30px;
      padding: 0 1.5rem;
      font-size: 1.1rem;
      cursor: pointer;
      box-shadow: 0 4px 10px rgba(0,0,0,0.2);
      transition: background 0.3s, transform 0.3s;
      flex: 0 0 auto;
    }

    .search-bar button:hover {
      background: #7c38a1;
      transform: scale(1.05);
    }

    .results {
      margin-top: 2rem;
      display: grid;
      grid-template-columns: repeat(auto-fit,minmax(280px,1fr));
      gap: 1.5rem;
    }

    .card {
      background: white;
      border-radius: 20px;
      padding: 1rem 1.5rem;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
      transition: box-shadow 0.3s;
      color: #333;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
    }

    .dark-mode .card {
      background: #2b2b44;
      color: #ddd;
      box-shadow: 0 4px 12px rgba(0,0,0,0.5);
    }

    .card:hover {
      box-shadow: 0 8px 20px rgba(0,0,0,0.2);
    }

    .card h3 {
      margin-top: 0;
      margin-bottom: 0.5rem;
      font-size: 1.3rem;
      color: #8e44ad;
    }

    .card p {
      flex-grow: 1;
      font-size: 1rem;
      margin-bottom: 1rem;
    }

    .contact-icons {
      display: flex;
      gap: 1rem;
      font-size: 1.3rem;
      justify-content: flex-start;
    }

    .contact-icons a {
      color: #8e44ad;
      transition: color 0.3s;
    }

    .contact-icons a:hover {
      color: #5e2a75;
    }

    @media (max-width: 600px) {
      header {
        flex-direction: column;
        align-items: flex-start;
      }

      .nav-links {
        width: 100%;
        justify-content: center;
        margin-bottom: 0.5rem;
      }

      .language-switch {
        justify-content: center;
        width: 100%;
      }

      .search-bar {
        flex-direction: column;
        align-items: center;
      }

      .search-bar input[type="text"], 
      .search-bar select, 
      .search-bar button {
        max-width: 100%;
      }
    }
  </style>
</head>
<body>
  <header>
    <div class="nav-links">
      <a href="index.html"><i class="fas fa-home"></i> الرئيسية</a>
      <a href="search.html"><i class="fas fa-search"></i> البحث</a>
      <a href="register.html"><i class="fas fa-user-plus"></i> التسجيل</a>
      <a href="location.html"><i class="fas fa-map-marker-alt"></i> قعطبة - الضالع</a>
    </div>
    <div class="language-switch">
      <button class="lang-btn" onclick="switchLanguage('ar')">العربية</button>
      <button class="lang-btn" onclick="switchLanguage('en')">English</button>
      <button class="theme-btn" onclick="toggleTheme()">🌓 الوضع الليلي</button>
    </div>
  </header>

  <main>
    <h1 id="title">ابحث عن مهني</h1>
    <div class="search-bar">
      <input type="text" id="searchInput" placeholder="ابحث بالاسم أو المهنة..." autocomplete="off" />
      <select id="filterProfession">
        <option value="">كل المهن</option>
        <option value="تاجرة">تاجرة</option>
        <option value="كهربائي">كهربائي</option>
        <option value="سباك">سباك</option>
        <option value="ميكانيكي">ميكانيكي</option>
      </select>
      <select id="filterArea">
        <option value="">كل المناطق</option>
        <option value="قعطبة">قعطبة</option>
        <option value="الضالع">الضالع</option>
      </select>
      <button onclick="performSearch()">بحث</button>
    </div>

    <div class="results" id="resultsContainer">
      <!-- نتائج البحث تظهر هنا -->
    </div>
  </main>

  <footer>
    جميع الحقوق محفوظة © 2025- قعطبة، الضالع
  </footer>

 <script>
  // بيانات مهنية باللغتين
  const professionals = [
    {
      ar: { name: "صنعاء", profession: "تاجرة", area: "قعطبة", desc: "خبرة 10 سنوات في التجارة." },
      en: { name: "Sanaa", profession: "Merchant", area: "Qa'atabah", desc: "10 years experience in trade." },
      whatsapp: "https://wa.me/967712345678",
      phone: "tel:+967712345678",
      email: "mailto:mohamed@example.com"
    },
    {
      ar: { name: "أحمد سالم", profession: "كهربائي", area: "الضالع", desc: "اختصاصي كهرباء المنازل." },
      en: { name: "Ahmed Salem", profession: "Electrician", area: "Dhale", desc: "Home electricity specialist." },
      whatsapp: "https://wa.me/967711234567",
      phone: "tel:+967711234567",
      email: "mailto:ahmed@example.com"
    },
    {
      ar: { name: "صالح محمد", profession: "سباك", area: "قعطبة", desc: "يعمل في صيانة الأنابيب." },
      en: { name: "Saleh Mohammed", profession: "Plumber", area: "Qa'atabah", desc: "Pipe maintenance technician." },
      whatsapp: "https://wa.me/967700000000",
      phone: "tel:+967700000000",
      email: "mailto:suad@example.com"
    },
    {
      ar: { name: "خالد علي", profession: "ميكانيكي", area: "الضالع", desc: "ميكانيكي سيارات محترف." },
      en: { name: "Khaled Ali", profession: "Mechanic", area: "Dhale", desc: "Professional car mechanic." },
      whatsapp: "https://wa.me/967722222222",
      phone: "tel:+967722222222",
      email: "mailto:khaled@example.com"
    },
  ];

  const translations = {
    ar: {
      title: "ابحث عن مهني",
      placeholder: "ابحث بالاسم أو المهنة...",
      allProfessions: "كل المهن",
      allAreas: "كل المناطق",
      professions: ["تاجرة", "كهربائي", "سباك", "ميكانيكي"],
      areas: ["قعطبة", "الضالع"],
      searchButton: "بحث",
      noResults: "لا توجد نتائج.",
      labels: { profession: "المهنة", area: "المنطقة" },
    },
    en: {
      title: "Search Professionals",
      placeholder: "Search by name or profession...",
      allProfessions: "All Professions",
      allAreas: "All Areas",
      professions: ["Merchant", "Electrician", "Plumber", "Mechanic"],
      areas: ["Qa'atabah", "Dhale"],
      searchButton: "Search",
      noResults: "No results found.",
      labels: { profession: "Profession", area: "Area" },
    }
  };

  let currentLang = "ar";
  let currentResults = [];

  function switchLanguage(lang) {
    currentLang = lang;
    document.documentElement.lang = lang;
    document.documentElement.dir = lang === "ar" ? "rtl" : "ltr";

    const t = translations[lang];

    document.getElementById("title").textContent = t.title;
    document.getElementById("searchInput").placeholder = t.placeholder;

    // تحديث خيارات المهنة
    const profSelect = document.getElementById("filterProfession");
    profSelect.innerHTML = `<option value="">${t.allProfessions}</option>`;
    t.professions.forEach((prof, i) => {
      profSelect.innerHTML += `<option value="${prof}">${prof}</option>`;
    });

    // تحديث خيارات المنطقة
    const areaSelect = document.getElementById("filterArea");
    areaSelect.innerHTML = `<option value="">${t.allAreas}</option>`;
    t.areas.forEach(area => {
      areaSelect.innerHTML += `<option value="${area}">${area}</option>`;
    });

    // تحديث زر البحث
    document.querySelector(".search-bar button").textContent = t.searchButton;

    // تحديث الروابط في الهيدر
    const navLinks = document.querySelectorAll(".nav-links a");
    if (lang === "en") {
      navLinks[0].innerHTML = `<i class="fas fa-home"></i> Home`;
      navLinks[1].innerHTML = `<i class="fas fa-search"></i> Search`;
      navLinks[2].innerHTML = `<i class="fas fa-user-plus"></i> Register`;
      navLinks[3].innerHTML = `<i class="fas fa-map-marker-alt"></i> Qa'atabah - Dhale`;
    } else {
      navLinks[0].innerHTML = `<i class="fas fa-home"></i> الرئيسية`;
      navLinks[1].innerHTML = `<i class="fas fa-search"></i> البحث`;
      navLinks[2].innerHTML = `<i class="fas fa-user-plus"></i> التسجيل`;
      navLinks[3].innerHTML = `<i class="fas fa-map-marker-alt"></i> قعطبة - الضالع`;
    }

    // تحديث النتائج حسب اللغة
    displayResults(currentResults);
  }

  function performSearch() {
    const query = document.getElementById("searchInput").value.trim().toLowerCase();
    const professionFilter = document.getElementById("filterProfession").value;
    const areaFilter = document.getElementById("filterArea").value;

    currentResults = professionals.filter(pro => {
      const data = pro[currentLang];
      const matchesQuery = query === "" || data.name.toLowerCase().includes(query) || data.profession.toLowerCase().includes(query);
      const matchesProfession = professionFilter === "" || data.profession === professionFilter;
      const matchesArea = areaFilter === "" || data.area === areaFilter;
      return matchesQuery && matchesProfession && matchesArea;
    });

    displayResults(currentResults);
  }

  function displayResults(results) {
    const container = document.getElementById("resultsContainer");
    container.innerHTML = "";

    if (results.length === 0) {
      container.innerHTML = `<p>${translations[currentLang].noResults}</p>`;
      return;
    }

    results.forEach(pro => {
      const data = pro[currentLang];
      const card = document.createElement("div");
      card.className = "card";
      card.innerHTML = `
        <h3>${data.name}</h3>
        <p><strong>${translations[currentLang].labels.profession}:</strong> ${data.profession}</p>
        <p><strong>${translations[currentLang].labels.area}:</strong> ${data.area}</p>
        <p>${data.desc}</p>
        <div class="contact-icons">
          <a href="${pro.whatsapp}" target="_blank" title="WhatsApp"><i class="fab fa-whatsapp"></i></a>
          <a href="${pro.phone}" title="Phone"><i class="fas fa-phone"></i></a>
          <a href="${pro.email}" title="Email"><i class="fas fa-envelope"></i></a>
        </div>
      `;
      container.appendChild(card);
    });
  }

  // تشغيل تلقائي على تحميل الصفحة
  window.addEventListener("DOMContentLoaded", () => {
    switchLanguage("ar"); // تعيين اللغة الافتراضية
    performSearch(); // عرض النتائج الافتراضية
  });
</script>

</body>
</html>

